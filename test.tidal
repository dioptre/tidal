d1 $ n "c'maj e'min c'min" # s "supermandolin pluck"
d2 $ n "g2'maj f3'maj d5'min" # s "superpiano"
d3 $ n "a b c" # s "supertron"
d1 $ n "[0 11]/8" # "superfm" #octave 4
  # amp1 1
  # ratio2 2.5
  # mod12 4
  # egrate11 0.3 # eglevel11 1 -- slow attack
  # egrate12 1  # eglevel12 0.1 -- fast decay to 1/2 amp
  # egrate13 0.5 # eglevel13 0.8 -- 2nd amp swell
  # egrate14 0.4 # eglevel14 0 -- decay of mod to 0

d1 $ sound "jvbass(3,8)"
anticipate 1 $ sound "bd sn" # delay "0.5" # room "0.3"

d1 $ n (slow 2 $ fmap (*7) $ run 8)
  # s "supergong"
  # decay "[1 0.2]/4"
  # voice "[0.5 0]/8"


d1 $ s "moog" # n "<0 1 2>" # legato 1 # cutoffbus 1 (segment 32 $ range 200 2400 $ saw) # resonance 0.2

d1 $ s "bd*8" # pan (slow 4 $ sine)
d1 $ s "moog*16" # n "<0 1 2>" # legato 1 # cutoff (range 200 2400 $ saw) # resonance 0.2

d1 $ n "0 .. 3" # sound "arpy"

d1 $ slow 2 $ n "0 1 2 3 3 2 1 0" # sound "arpy"
d1 $ palindrome $ n (run 4) # sound "arpy"

d1 $ sound "[voodoo voodoo:3, arpy arpy:4 arpy:2]"

d1 $ sound "[voodoo voodoo:3, arpy arpy:4 arpy:2]"
d1 $ sound "{voodoo voodoo:3, arpy arpy:4 arpy:2}"
d1 $ sound "[drum bd hh bd, can can:2 can:3 can:4 can:2]"
d1 $ sound "{drum bd hh bd, can can:2 can:3 can:4 can:2}"
d1 $ sound "[bd sn, can:2 can:3 can:1, arpy arpy:1 arpy:2 arpy:3 arpy:5]"
d1 $ sound "{bd sn, can:2 can:3 can:1, arpy arpy:1 arpy:2 arpy:3 arpy:5}"

d1 $ sound "bd(5,8)"

d1 $ sound "bd(5,8,2)"

d1 $ n "2" # s "tabla:13" 

hush

d1 $ n "0 0 [3 4] 5" # s "cpu" # squiz "7 3 1 5 3 4 3"

d1 $ n "0 0 [3 4] 5" # s "cpu" # crush "3 8"

d1 $ sound "[hh*16, kick:8 snare:4 [~ kick:8] snare]" # gain "[1 1.2]*8"

d1 $ sound "numbers:1 numbers:2 numbers:3 numbers:4" # pan "0 0.5 1"

d1 $ sound "kurt:4 kurt:4"

d1 $ slow 2 $ n "0 2 [3 5] [4 7]" # sound "cpu"

d1 $ slow "0.5 <1 2>" $
    n "{0 2 [3 5] [4 <7 6>], 0*2 3*3 0}" # sound "cpu"
    # squiz "<8 1 2>"
    # speed 2

d1 $ n "0 1 2 3" # sound "numbers" |<| n "4 5"

d1 $ n "0 1 2 [3 5]" # sound "cpu"
  |+| n "<[4 5 3 2] [5 4 3] [6 5]>"
  # squiz 2

d1 $ every 3 (fast 2) $ sound "bd sd ~ cp"

d1 $ every 4 rev $ every 2 (hurry 2) $ every 3 (# squiz 5) $ sound "bd sd [~ bd] [cp bd*2]"

d2 $ jux rev $ sound "sax(3,8)" # legato 1 # n 3 # note "<[9 7] 5 [9 12]>" # djf 0.7 # sz 0.4 # room 0.4

d1 $ jux rev $ speed "<1 0.5 0.75>(<3 5>,8)" # sound "bev" # cut 1 # room 0.4 # sz 0.9 # gain 1.3


d1 $ splice 8 ("0 1 2 3 4 5") $ sound "break:4" # gain 1.1
d2 $ sound "kick snare*2 clap:4" # speed 2

d1 $ slow 2 $ loopAt 2 $ chop 4 $ sound "break:8 break:9"

d1 $ slow 2 $ loopAt 2 $ striate 32 $ sound "break:8 break:9"

d1 $ loopAt 16 $ striate 32 $ sound "bev"

d1 $ slow 4 $ jux rev $ loopAt 16 $ striate 128 $ sound "bev*4"

d1 $ sound "bd*32" # shape (slow 2 sine)

d1 $ sound "drum:5(5,8,<0 4>)" # lpf (range 200 8000 rand) # lpq 0.2

d1 $ sound (struct "t t ~ t" $ choose ["bd", "arpy", "kick"])

d1 $ sound (randcat ["kick snare:4 [~ kick] snare:5",
                     "kick snare:4 . hc(5,8)",
                     "snare:3(9,16)"
                    ]
           )



d1 $ sound (randcat ["kick snare:4 [~ kick] snare:5", "kick snare:4 . hc(5,8)"])

d1 $ stripe 2 $ n "0 4*2 ~ 4 2 4 5 ~" # sound "cpu2" # squiz 2

d1 $ degrade $ sound "bd*8"

d1 $ sound "bd*8?"

d1 $ degradeBy 0.6 $ sound "bd*8"

d1 $ sometimes (# crush 4) $ n "0 ~ 3 1 5 2 ~ 5" # sound "cpu"

d1 $ sometimesBy 0.3 (# crush 4) $ n "0 ~ 3 1 5 2 ~ 5" # sound "cpu"

d1 $ note "csssssss g" # s "superpiano"

d1 $ note "c5 c6 c4 c6" # s "superpiano"

d1 $ note "c a f e" # sound "dbass" # n "<0 1 2>"

d1 $ n "c a f e" # sound "rash" |+ n 24 |+ n "<0 2 7 12>"

d1 $ note "c a f e" # sound "superpiano" # octave "<4 6 3>"

d1 $ n "<g'maj b'maj c'maj c'min>" # s "supermandolin" # room 0.6 # sz 0.9

d1 $ qtrigger $ jux ((|- n "12") . rev) $ struct "t(5,8,<0 4>)" $ n "<g'maj b'maj c'maj c'min>" # s "supermandolin" # room 0.6 # sz 0.9

import Sound.Tidal.Chords

chordList

-- Try some out:
d1 $ n "c'sevenFlat9 a'm9sharp5" # sound "supermandolin"

-- Here's the raw data:
chordTable

-- What happened to 1, 3, 6, 8, and 10?
-- You can get to them by adding 's' for 'sharp', to add 1 to a note:
-- Again, this all ends up being turned into plain note numbers. These
-- two patterns are the same:
d1 $ n "c'sevenFlat9 a'm9sharp5" # sound "supermandolin"

d1 $ n "[0,4,7,10,13] [9,10,23]" # sound "supermandolin"

d1 $ arp "updown thumbup" $ n "<c'maj'4 e'min7'4>" # s "superpiano"

d1 $ jux rev $ arp "<updown thumbup pinkyupdown converge diverge>" $ n "<c4'maj'6 e4'min7'8 g5'maj'5 a5'maj'4>" # s "superpiano" # room 0.3 # sz 0.7

-- custom synth
--https://www.youtube.com/watch?v=ZM8OEcjlkzo

-- SynthDef(\test, {
--  |out,sustain=1,freq=440,speed=1,begin=0,end=1,pan,accelerate,offset,clamp=1|
--  var line, env, volume, tone, outAudio;
--  freq=freq*speed;
--  line = Line.ar(begin,end,sustain/speed,doneAction: Done.freeSelf);
--  env = Env.new(levels: [0, 1, 0.9, 0], times: [0.1, 0.5, 1], curve: [-5, 0, -5]);
--  volume = IEnvGen.ar(env, line);
--  tone = (Pulse.ar(freq,line)+Pulse.ar(freq*1.01,line)+Pulse.ar(freq*0.99,line))/3;
--  outAudio = RLPF.ar(tone*volume, 20000*clamp*volume,0.3);
--  OffsetOut.ar(out,DirtPan.ar(outAudio, ~dirt.numChannels, pan, volume));
-- }).add;


d1 $ off "0.25" (|+ n 7) $ n "c e" # sound "supermandolin"

d1 $ n (scale "ritusen" $ "0 [7 2] 3 2" |+ (irand 3)) # sound "superpiano"

scaleList

d1 $ ur 16 "[bdsd, ~ claps, ~ [bass bass:crunch] ~ bass]"
  [("bdsd", sound "bd [~ sd] bd sd" # squiz 2),
   ("claps", sound "clap:4*2 clap:4*3"
     # delay 0.8 # dt "t" # dfb 0.4
     # orbit 4 # speed 4
   ),
   ("bass", struct "t(3,8)" $ sound "dbass" # shape 0.7 # speed "[1, ~ 2]")
  ]
  [("crunch", (# crush 3))
  ]

d1 $ every 3 (rev) $ every 3 (chop 8) $
  sound "bd [~ sd] bd sd" # squiz 2

d1 $ 0.25 <~ (n "[0 [1 0] 6*2 [3 4*2], 8(5,8)]" # sound "cpu2")

d1 $ ("<0 0.25 0.75>" ~>) $ n "[0 [1 0] 6*2 [3 4*2], 8(5,8)]" # sound "cpu2" # crush 4

d1 $ struct "t f t t f t f f" $ sound "snare:4"
d1 $ struct "t(3,8)" $ sound "snare:4"

d1 $ stack [struct "t(3,8)" $ sound "kick:4",
            struct "f(3,8)" $ sound "snare:4"
           ]

d1 $ stitch "t(3,8)" (sound "kick:4") (sound "snare:4")

d1 $ stitch "t(<3 5>,<8 8 8 6>,<0 2 4>)" (sound "kick:4") (sound "hc")
d1 $ sound (stitch "t(<3 5>,<8 8 8 6>,<0 2 4>)" "kick:4" "hc")

drawLine $ struct "<1 0>(3,8)" "a"

d1 $ stitch "t f t [t f]*2 f ~ t f" (sound "kick:4") (sound "hc") # room 0.2 # sz 0.8

d1 $ sew "t f" (sound "kick") (sound "clap:4")

d1 $ chunk 4 (hurry 2) $ n "0 .. 7" # sound "cpu"

d1 $ sew (iter 4 "t f")
  (chunk 4 (hurry 2) $ n "0 .. 7" # sound "cpu")
  (n "0 .. 7" # sound "cpu2" # speed 1.5 # squiz 2)

fit :: Int -> [a] -> Pattern Int -> Pattern a
d1 $ n (fit 0 [9,10,11,12,13,14] "0 1 2 3") # s "alphabet"

d2 $ n "0 ~ 2 [3*2 4*2]" # sound "cpu" # speed 2

d1 $ note (fit 2 [0,2,7,5,12] "0 ~ 1 [2 3]") # sound "supermandolin" # legato 2 # gain 1.3

d1 $ cat [sound "bd*2 sn", sound "arpy jvbass*2", sound "drum*2"]

d1 $ whenmod 5 3 (striate 3) $ stack [ 
  sound "bd bd*2", 
  sound "hh*2 [sn cp] cp future*4", 
  sound "arpy" +| n "0 .. 15"
] # speed "[[1 0.8], [1.5 2]*2]/3"


d1 $ iter 4 $ sound "bd hh sn cp"

d1 $ jux rev $ chunk 4 (fast 2 . (|- n 12)) $ off 0.25 (|+ 7) $ struct (iter 4 "t(5,8)")
  $ n (scale "major" "0 .. 7") # sound "superpiano"

d1 $ jux rev $ chunk 4 (fast 2 . (|- n 12)) $ off 0.25 (|+ 7) $ struct (iter 4 "t(5,8)")
  $ n (scale "bhairav" "0 .. 7") # sound "superpiano"

chordL

d1 $ stack
  [ note "<d4 c4 a3 bf3>" # s "bass1:18" # legato 1 # metatune 1
  , note "[~ d5'min'o]*4" # s "superpiano" # release 0.4
  ] # cps 0.35

d1 $ bite 4 "0 1*2 2*2 [~ 3]" $ n "0 .. 7" # sound "drum"

d1 $ chew 4 "0 1*2 2*2 [~ 3]" $ n "0 .. 7" # sound "drum"

d1 $ smash 6 [2,3,4] $ sound "ho ho:2 ho:3 hc"


saw = sig $ \t -> mod' (fromRational t) 1

let pats =
      [
        ("a", stack [n "c4 c5 g4 f4 f5 g4 e5 g4" # s "superpiano" # gain "0.7",
                     n "[c3,g4,c4]" # s "superpiano"# gain "0.7"
                    ]
        ),
        ("b", stack [n "d4 c5 g4 f4 f5 g4 e5 g4" # s "superpiano" # gain "0.7",
                     n "[d3,a4,d4]" # s "superpiano"# gain "0.7"
                    ]
        ),
        ("c", stack [n "f4 c5 g4 f4 f5 g4 e5 g4" # s "superpiano" # gain "0.7",
                     n "[f4,c5,f4]" # s "superpiano"# gain "0.7"
                    ]
        )
      ]
in
d1 $ ur 12 "a b c" pats []


let pats =
      [
        ("a", stack [n "c4 c5 g4 f4 f5 g4 e5 g4" # s "superpiano" # gain "0.7",
                     n "[c3,g4,c4]" # s "superpiano"# gain "0.7"
                    ]
        ),
        ("b", stack [n "d4 c5 g4 f4 f5 g4 e5 g4" # s "superpiano" # gain "0.7",
                     n "[d3,a4,d4]" # s "superpiano"# gain "0.7"
                    ]
        ),
        ("c", stack [n "f4 c5 g4 f4 f5 g4 e5 g4" # s "superpiano" # gain "0.7",
                     n "[f4,c5,f4]" # s "superpiano"# gain "0.7"
                    ]
        )
      ]
    fx = [("reverb", (# (room 0.8 # sz 0.99 # orbit 1))),
          ("faster", fast 2)
         ]
in
d1 $ ur 12 "a b:reverb c:faster" pats fx

let pats = [("drums", s "drum cp*2"),
            ("melody", s "arpy:2 arpy:3 arpy:5"),
            ("craziness", s "cp:4*8" # speed ( sine + 0.5))
           ]
    fx = [("higher", (# speed 2))]
in
d1 $ ur 8 "[drums, melody] [drums,craziness,melody] melody:higher" pats fx


d1 $ seqP [
  (0, 12, sound "bd bd*2"),
  (4, 12, sound "hh*2 [sn cp] cp future*4"),
  (8, 12, sound (samples "arpy*8" (run 16)))
]

d1 $ qtrigger $ seqP [
  (0, 12, sound "bd bd*2"),
  (4, 12, sound "hh*2 [sn cp] cp future*4"),
  (8, 12, sound (samples "arpy*8" (run 16)))
]

d1 $ qtrigger $ seqPLoop [
  (0, 12, sound "bd bd*2"),
  (4, 12, sound "hh*2 [sn cp] cp future*4"),
  (8, 12, sound (samples "arpy*8" (run 16)))
]

d1  $ s "omi" <| note "a [~ g] [c b] [g gs]" 
    # octave "<3 4 5 6 7 8>"
    # sustain "{1 2 1}%8"

d1  $ s "braids" <| note "a [~ g] [c b] [g gs]" 
    # octave "<3 4 5 6 7 8>"
    # sustain "{1 2 1}%8"
    # model (slow 48 $ run 48)
    # timbre (slow 3 sine)
    # color (saw)

-- The Euclidean Algorithm Generates Traditional Musical Rhythms by Toussaint
-- (2,5) : A thirteenth century Persian rhythm called Khafif-e-ramal.
-- (3,4) : The archetypal pattern of the Cumbia from Colombia, as well as a Calypso rhythm from Trinidad.
-- (3,5,2) : Another thirteenth century Persian rhythm by the name of Khafif-e-ramal, as well as a Rumanian folk-dance rhythm.
-- (3,7) : A Ruchenitza rhythm used in a Bulgarian folk-dance.
-- (3,8) : The Cuban tresillo pattern.
-- (4,7) : Another Ruchenitza Bulgarian folk-dance rhythm.
-- (4,9) : The Aksak rhythm of Turkey.
-- (4,11) : The metric pattern used by Frank Zappa in his piece titled Outside Now.
-- (5,6) : Yields the York-Samai pattern, a popular Arab rhythm.
-- (5,7) : The Nawakhat pattern, another popular Arab rhythm.
-- (5,8) : The Cuban cinquillo pattern.
-- (5,9) : A popular Arab rhythm called Agsag-Samai.
-- (5,11) : The metric pattern used by Moussorgsky in Pictures at an Exhibition.
-- (5,12) : The Venda clapping pattern of a South African children’s song.
-- (5,16) : The Bossa-Nova rhythm necklace of Brazil.
-- (7,8) : A typical rhythm played on the Bendir (frame drum).
-- (7,12) : A common West African bell pattern.
-- (7,16,14) : A Samba rhythm necklace from Brazil.
-- (9,16) : A rhythm necklace used in the Central African Republic.
-- (11,24,14) : A rhythm necklace of the Aka Pygmies of Central Africa.
-- (13,24,5) : Another rhythm necklace of the Aka Pygmies of the upper Sangha.

-- ========================================
-- mi-UGens Examples
-- ========================================

-- ========================================
-- Synths
-- ========================================

-- omi (Ominous Voice)
d1  $ s "omi" <| note "a [~ g] [c b] [g gs]"
    # octave "<3 4 5 6 7 8>"
    # sustain "{1 2 1}%8"

-- braids (miBraids)
d1  $ s "braids" <| note "a [~ g] [c b] [g gs]"
    # octave "<3 4 5 6 7 8>"
    # sustain "{1 2 1}%8"
    # model (slow 48 $ run 48)
    # timbre (slow 3 sine)
    # color (saw)

-- plaits (miPlaits)
d1  $ s "plaits" <| note "a [~ g] [c b] [g gs]"
    # octave "<3 4 5 6 7 8>"
    # sustain "{1 2 1}%8"
    # engine (slow 16 $ run 16)
    # timbre (slow 3 sine)
    # harm (slow 4 saw)
    # morph (slow 9 saw)
    # level (slow 8 sine)

-- tides (miTides)
d1  $ s "tides" <| note "a [~ g] [c b] [g gs]"
    # octave "<3 4 5 6 7 8>"
    # sustain "{1 2 1}%8"
    # mode "<0 1 2 3>"
    # shift (slow 5 sine)
    # tidesshape (slow 7 sine)
    # tidessmooth (range 0.2 1 $ slow 8 sine)
    # slope (slow 3 sine)

-- ========================================
-- Effects
-- ========================================

-- verb (miVerb - global reverb)
d1  $ s "[[bd sd], linnhats*8]"
    # verb 0.9 0.9 0.1 0.2

-- clouds (miClouds - granular processor)
d1  $ s "[[bd sd], [linnhats*8]]"
    # clouds 0.1 0.5 0.05 0.1
    # cloudsblend 1 0.2 0.33 0.8

-- elements (miElements - modal synthesis)
d1  $ s "[[bd sd], linnhats*8]"
    # elementsstrength "0.9"
    # elementspitch (slow 3 sine)
    # elementsblowlevel 0.6
    # elementsblowtimb (slow 5 sine)
    # elementsflow "{0.3 0.6 0.7}"
    # elementsstrikelevel 1
    # elementsstriketimb 0.1
    # elementsmallet rand
    # elementseasteregg "[1 | 0 | 0]"
    # elementsmodel "[0 | 1]"
    # elementscontour (slow 5 saw)
    # elementsgeom 2
    # elementsbright (slow 7 saw)
    # elementsdamp 0
    # elementspos 0.314
    # elementsspace 0.9

-- mu (miMu - low frequency distortion)
d1  $ s "bass1:1"
    # mu 5
    # gain 0.7

-- rings (miRings - resonator)
d1  $ s "[[bd sd], linnhats*8]"
    # rings 100 rand 0.7 (slow 3 sine) 0.9
    # ringsmodel "[0|1]"
    # ringspoly "[0|1|0]"
    # ringsinternal "[1|0|1|1]"

-- ripples (miRipples - analog 4 pole filter)
d1  $ s "[[bd sd], linnhats*8]"
    # ripplescf 0.4
    # ripplesreson (range 0.5 1 $ slow 7 sine)
    # ripplesdrive "{1 3 5}%2"

-- warps (miWarps - wave-shaping and cross-modulation)
d1  $ s "[[bd sd], linnhats*8]"
    # warpstimb (slow 5 sine)
    # warpsosc "<0 1 2 3>"
    # warpsalgo "<0 1 2 3 4 5 6 7 6>"
    # warpsfreq (slow 3 saw)
    # warpseasteregg 1

hush

drawLine "a b*2 d"


-- ============================================
-- CONVOLUTION REVERB QUICK START
-- ============================================
-- 52 Impulse Responses: 0-11 (core), 12-41 (creative), 42-51 (bass-heavy EDM)
-- Parameters: convolvemix (wet/dry), convolveir (0-51), convolvedamp (brightness),
--             convolvepredel (pre-delay), convolvelevel (output boost/cut)

-- Test 1: Simple cathedral reverb
d1 $ s "bd cp" # convolve 0.5 # convolveir 6

-- Test 2: Bass-heavy dubstep space
d1 $ s "bass*4" # note "c1" # convolve 0.8 # convolveir 42 # gain 1.2

-- Test 3: Create a Super IR (2-way convolution)
makeSuperIR [6, 42]
-- Watch SuperCollider Post window for: "✓ Added at index: 52"
-- Then use it:
-- d1 $ s "bass*4" # note "c2" # convolve 0.9 # convolveir 52

hush


-- 80Hz bass boost (IR 42)
d1 $ s "bass" # note "c" # convolve 0.1 # convolveir 7

-- ADVANCED: TRIPLE LAYERED CONVOLUTION - 3 patterns with different IRs and LFO modulation
-- Layer 1: Sub bass with bass-boost IR, slowly morphing
d1 $ s "bass:3*4" # note "c1 c1 g1 g1"
   # convolve (range 0.7 0.95 $ slow 16 sine)                  -- Deep wet mix, slow pulse
   # convolveir "<42 43 44>"                                   -- Cycle bass-boost/extra-bass/deep (IRs 42-44)
   # lpf 150 # resonance 0.4
   # gain 1.1

-- Layer 2: Mid bass with club/techno IRs, faster movement
d2 $ s "bass:5*8" # note "c2 e2 f2 g2"
   # convolve (range 0.3 0.9 $ slow 8 (sine * saw))            -- Complex modulation
   # convolveir "<45 46 47 48>"                                -- Cycle club/music-club/techno/dance (IRs 45-48)
   # lpf (range 200 2000 $ slow 6 sine)                        -- Filter sweep
   # resonance 0.3
   # pan (slow 4 saw)                                          -- Stereo movement
   # gain 0.9

-- Layer 3: High percussion with creative IRs, rapid changes
d3 $ s "cp*4 hh*8"
   # convolve (range 0.2 0.6 $ fast 2 square)                  -- Rhythmic convolution pulse
   # convolveir (choose [13, 14, 15, 17, 18])                  -- Random creative IRs: cassette/tape/vehicles
   # hpf 800
   # pan (fast 8 sine)                                         -- Fast stereo
   # gain 0.7

-- Cycle through bass IRs (42-51)
d1 $ s "bass*4" # note "c2 a1 f2 e2" # convolve 0.7 # convolveir "<42 43 44 45 46 47 48 49 50 51>"


-- ============================================
-- ALL CONVOLUTION PARAMETERS DEMO
-- ============================================

-- 1. CONVOLVE (wet/dry mix) - Basic parameter
d1 $ s "bd cp" # convolve 0.5 # convolveir 6  -- 50% wet cathedral

-- 2. CONVOLVEIR (IR selection) - Choose space (0-51)
d1 $ s "bd cp" # convolve 0.5 # convolveir 0   -- Hall
d1 $ s "bd cp" # convolve 0.5 # convolveir 42  -- Bass boost
d1 $ s "bd cp" # convolve 0.5 # convolveir 13  -- Cassette

-- 3. CONVOLVEDAMP (high frequency damping) - 0=dark, 1=bright
d1 $ s "hh*8" # convolve 0.7 # convolveir 6
   # convolvedamp 0.2    -- Dark, muffled reverb tail (800Hz cutoff)

d1 $ s "hh*8" # convolve 0.7 # convolveir 6
   # convolvedamp 0.9    -- Bright, airy reverb tail (16kHz+)

-- Modulate damping with LFO
d1 $ s "arpy*8" # convolve 0.6 # convolveir 6
   # convolvedamp (range 0.1 0.9 $ slow 4 sine)  -- Breathing brightness

-- 4. CONVOLVEPREDEL (pre-delay) - 0-0.2 seconds delay before reverb
d1 $ s "cp*4" # convolve 0.8 # convolveir 6
   # convolvepredel 0.05   -- 50ms pre-delay (clear separation)

d1 $ s "sn*2" # convolve 0.7 # convolveir 0
   # convolvepredel 0.15   -- 150ms pre-delay (huge space feel)

-- Modulate pre-delay with LFO
d1 $ s "bd*4" # convolve 0.6 # convolveir 6
   # convolvepredel (range 0 0.1 $ slow 8 sine)  -- Moving space

-- 5. CONVOLVELEVEL (output level) - 0-2 (default 1.0)
d1 $ s "bass*4" # note "c2" # convolve 0.7 # convolveir 42
   # convolvelevel 1.5     -- Boost reverb output by 50%

d1 $ s "hh*16" # convolve 0.5 # convolveir 0
   # convolvelevel 0.6     -- Subtle, quiet reverb

-- Modulate level with LFO
d1 $ s "arpy*8" # convolve 0.8 # convolveir 6
   # convolvelevel (range 0.5 1.8 $ slow 6 saw)  -- Swelling reverb

-- ============================================
-- COMBINED PARAMETER EXAMPLES
-- ============================================

-- Example 1: Evolving Cathedral with all parameters
d1 $ s "arpy*8" # n (irand 8)
   # convolve (range 0.4 0.9 $ slow 8 sine)           -- Pulsing wet/dry
   # convolveir 6                                      -- Cathedral
   # convolvedamp (range 0.2 0.8 $ slow 6 saw)        -- Dark to bright
   # convolvepredel (range 0 0.08 $ slow 12 square)   -- Pre-delay variation
   # convolvelevel 1.3                                 -- Slightly boosted

-- Example 2: Dubstep Bass with controlled reverb
d1 $ s "bass*4" # note "c1 e1 f1 g1"
   # convolve 0.7                                      -- Heavy wet
   # convolveir "<42 43 44>"                           -- Cycle bass IRs
   # convolvedamp 0.3                                  -- Keep it dark/heavy
   # convolvepredel 0.02                               -- Tight pre-delay
   # convolvelevel 1.6                                 -- Boost for impact
   # lpf 200

-- Example 3: Hi-hats with dynamic space
d1 $ s "hh*16"
   # convolve (range 0.3 0.7 $ fast 2 square)         -- Rhythmic convolution
   # convolveir (choose [13,14,15])                    -- Random tape IRs
   # convolvedamp (range 0.6 0.95 $ fast 4 sine)      -- Fast brightness sweep
   # convolvepredel 0                                  -- No pre-delay
   # convolvelevel (range 0.7 1.3 $ slow 3 saw)       -- Level variation

-- Example 4: ALL PARAMETERS + LFO MODULATION
d1 $ s "bass*8" # note "c2 e2 f2 g2"
   # convolve (range 0.4 0.9 $ slow 8 sine)           -- LFO: wet/dry
   # convolveir "<45 46 47 48>"                        -- Pattern: club IRs
   # convolvedamp (range 0.2 0.8 $ slow 6 saw)        -- LFO: brightness
   # convolvepredel (range 0 0.1 $ slow 12 square)    -- LFO: pre-delay
   # convolvelevel (range 1.0 1.8 $ slow 10 sine)     -- LFO: output level
   # lpf (range 300 2000 $ slow 5 sine)               -- Bonus filter LFO
   # pan (slow 4 saw)


-- ============================================
-- makeSuperIR - FULLY AUTOMATIC Super IR Creation!
-- ============================================
-- Just call makeSuperIR from Tidal - everything is automatic!
-- SuperCollider receives the indices, convolves them, and adds the result to the IR array.
-- Watch the SuperCollider Post window to see the magic happen!

-- Example 1: Cathedral + Bass boost (2-way convolution)
makeSuperIR [6, 42]
-- SC Post window shows:
-- → Received IR index: 6 (total: 1)
-- → Received IR index: 42 (total: 2)
-- === Processing Super IR from 2 indices: [6, 42] ===
-- Convolving 1/1: IR6 * IR42
--   ✓ Convolved
-- ✓✓✓ Super IR COMPLETE! Created from 2 IRs ✓✓✓
-- ✓ Added at index: 52
-- Use in Tidal: # convolveir 52

-- Now use it:
d1 $ s "bass*4" # note "c2" # convolve 0.1 # convolveir 52

-- Example 2: Triple bass punch (3-way convolution)
makeSuperIR [42, 43, 44]
-- Creates hybrid of: 80Hz boost + BBE bass + Deep enhance
-- Use with: # convolveir 53

d1 $ s "kick*4" # convolve 0.8 # convolveir 53 # gain 1.2

-- Example 3: Tape saturation stack
makeSuperIR [13, 14, 15]
-- Cassette + 15ips tape + Clean tape
-- Use with: # convolveir 54

d1 $ s "808*8" # note "c1 e1 g1 c2" # convolve 0.6 # convolveir 54

-- Example 4: Presets (defined in convolution-params.hs)
superMassive      -- Cathedral + bass (same as makeSuperIR [6, 42])
superBass         -- Triple bass: [42, 43, 44]
superVintage      -- Triple tape: [13, 14, 15]
superClub         -- Club spaces: [45, 46, 47, 48]
superMega         -- 30-way MEGA convolution! [42,43,44,45,46,47,48,49,50,51,0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,17,18,27,33,35]

-- Run a preset:
superClub
-- Watch SC Post window for processing, then use the reported index

d1 $ s "bass*16" # note "c2" # convolve 0.9 # convolveir 55

-- ============================================
-- 30-WAY MEGA CONVOLUTION
-- ============================================
-- The ultimate super IR: convolves 30 carefully selected IRs together!
-- This creates an incredibly complex and unique reverb space.

superMega
-- This convolves: [42,43,44,45,46,47,48,49,50,51,0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,17,18,27,33,35]
-- Processing takes ~15-30 seconds (watch SC Post window)
-- Creates a hybrid of:
--   - All 10 bass-heavy EDM IRs (42-51)
--   - Core spaces: hall, church, room, plate, spring, chamber, cathedral, concert, studio, ambient, warehouse, space (0-11)
--   - Creative tape saturation (13-15)
--   - Vehicle acoustics (17-18)
--   - Bottle hall (27)
--   - Arena (33)
--   - Vintage blues (35)

-- Then use with massive bass:
d1 $ s "bass*8" # note "c1 d1 f1 g1" # convolve 0.95 # convolveir 56 # gain 1.5 # lpf 400

-- Or layer with other effects:
d1 $ s "kick*4"
   # convolve 0.8 # convolveir 56
   # lpf (range 200 800 $ slow 8 sine)
   # gain 1.3

-- POWER USER: Create custom mega IRs
-- Choose any combination of IRs (up to 30+)
makeSuperIR [6, 7, 8, 42, 43, 44, 13, 14, 15, 27, 33, 35]
-- 12-way convolution: Cathedrals + Bass + Tape + Creative spaces


hush

d1 silence

d1 $ sound "pluck:0 latibro:5 industrial:30 pluck:5 industrial:21 diphone:1 latibro:4 industrial:14"

di $ sound "bd cp bd cp"
d2 $ sound "hh hh hh hh hh hh hh hh"
d3 $ sound "rave arp: 0"

d1 $ sound "kc <metal:6 metal:0 metal:4 metal:5 metal:1> <feel:0 feel:2 feel:1> [kc kc bd bd]"

d1 $ sound "[kc kc][[kcikc] [[kc kc] kc] kc]"
d1 $ sound "kc kc . [kc kc] [[kc kc] kcl kc"

d1 $ sound "[hh cp hh cp, bd kc kc bd kc, hh hh [sn sn sn] hh hh"

d1 $ s "[909*8, hh*16, oc*3, 808/2]/2"

d1 $ s "[808*2]"

d1 $ s "[hh [hh*3] hh]*2 [909 [909*5] 909]"

d1 $ rev (s "[hh [hh*3] hh]*2 [909 [909*5] 909]")

d1 $ every 4 (rev) (s "arpy:0 arpy:1 arpy:2 arpy: 3" )
-- every function
--1. number
--2. function
--3. a pattern

d1 $ s "tink*4. tink*2" #coarse "82 15.49"
# delay "0.9"
# delayt "0.9"
# delayfb "0.1"

d1 $ s "gtr:2"
# leslie "0.5"
# lrate "2"
# lsize "1"

d1 $ s "gtr:2"
# fshift "10"
# fshiftnote "2"

d1 $ s "sax*10"
# att "1"
# hold "1"
# rel "1"
# speed "1"
# room "0.9"
# size "0.8"

d1 $ s "sax*10"
#att "0.0001"
# hold "0.1"
# rel "0.001"
#speed "1 2 3 1 2 2.25 1.5 0.5 0.25"
# room "0.9"
# size "0.99"

d1 $ s "sax/2"
# tremr "250"
# tremdp "1"

d1 $ s "sax/2"
# vowel '"<a e i o u>"

d1 $ s "sax/4"
# att "2"
# hold "0.1"
# rel "2"
# room "1"
# size "0.9"
# speed "<1 2.25 0.5>"
# tremdp "0.7"
# tremr "8"
# vowel "<a e i o u>"
d2 $ s "[hh*16, [cp • [cp [[cp cp] cp]]] • cp]"
# speed "<2 4 3 6 1 8>"
d3 $ s "bd . bd[bd*8]"
# speed "<2 4 3 6 1 8>"

hush

d1 $ s "[blip*16]/2"
# speed "[1 0.15 1,75 2 4 3.5 3.25 0.25 2 0.75 3.5 6 4 3 2 1.75 1 2 1.75 2 4 3.75 3.25 1.25 2 1,75 3.5 6 4 3 2 1.55 ]/8"
# room "1"
# size "0.4"
# delay "0.7"
# delayfb "0.4"
# delayt "0.9"
# crush "4"
# phasr "20"
# phasdp "4"
# lpf "5000"
# 1pq "0.2 0.4"
# amp "0.1"

d2 $ s "[bass® . bass0:3 bass0:1 bass0:0]"
# bpf "900"
# crush "5 4 8"
# amp "0.4"

d3 $ s "[feel*16. feel*3. feel*8. feel*5 feel*5. feel*8]/3"
# bpf "800"
# bpq "25 40 50 60"
# crush "5 7"
# amp "0.4"

d4 $ s "sax"
# ring "1"
# ringf "[600 400 300 200]/4"
# ringdf "100"
# speed "[1 2 3 4]/4"
# amp "0.2"
# cut "1"




d1 $ s "peri: 8"
d1 $ n "8 7 1 2 3 4 7 8 9 2 1 1 1 1 1 1 1" # s "peri"
d1 $ s "peri:8 peri:7 peri:1 peri:2 peri:3 peri:4 peri:5 peri:6 peri:7 peri:8 peri:9 peri:2"


d1 $ speed "<0.25 -0.5> <1.5 1.25 1.75>"
# s "jungbass:3"
# amp 0.2
d2 $ crush "4 2 8 9 6 9" # s "ht"
# lpf "<2000 4400 970 1000>"
# lpq "<0.225 0.3 0.2>"
# amp 0.1
d3 $ s "psr*8" # n"<[0 5] [1 3 2] [4 5 7] [1]>"
# hpf "<200 500 700 900>"
# hpq "<0.3 0.2 0.4>"
# amp 0.2

d4 $ s "padlong/40"
# speed 0.5
# amp 0.3




d1 $ s "click(5,6) click(5, [7 91/2)" # n "0 1"
# crush "3"
# hpf 2000
# hpq 0.4
d2 $ s "click(5,6) click(5, (7 9]/2)" # n "4"
# crush "3"
# hpf 6000
# hpq 0.5
d3 $ s "glitch(5,9)" # n "35 • 2 5 8"
# crush "4"
# amp "0.2"
# delay "0.2"
# delayfb "0.6"
d4 $ s "cp(5,9)"
# crush "7 6 8 9 6 3"
# hpf "<2000 300 300 1000>"
# hpq "<0.4 0.3 0.2>"
# amp 0.1
d5 $ s "cp (5,9)"
# n "5"
# crush "7 6 8 9 6 3"
# hpf "<3000 6000>"
# hpq "<0.2 0.3 0.4>"
# amp 0.1
d6 $ s "bd"
# crush "<3 7 5 8>"
setcps (160/60/4)

-- YOI WAVE FROM SAW with LFO cutoff/resonance and downsampling
d1 $ s "supersquare*8" # n "c3"
  # cutoff (range 200 3000 $ slow 4 $ sine)     -- LFO modulates cutoff
  # resonance (range 0.1 0.7 $ slow 3 $ sine)   -- LFO modulates resonance peak
  # shape 0.8                                    -- Add some distortion for "yoi" character
  # crush 6                                      -- Downsampling/bitcrush
  # legato 1
  # voice (slow 2 $ range 0 0.5 $ saw)         -- Modulate waveform shape from saw to square

-- YOI WAVE - IRREGULAR MODULATION VERSION
d1 $ s "supersquare*<8 16 12>" # n "c3 <e3 g3> <c3 f3>"
  # cutoff (range 150 4000 $ (slow 3.7 sine * slow 5.2 saw))  -- Complex irregular LFO
  # resonance (range 0.05 0.85 $ slow 2.8 $ (sine + saw) / 2) -- Mixed waveform LFO
  # shape (range 0.4 0.95 $ slow 7 $ square)                  -- Pulsing distortion
  # crush "<4 6 8 5>"                                          -- Varying bitcrush depth
  # legato "<1 0.5 2>"                                         -- Irregular note lengths
  # voice (slow 4.3 $ range 0.2 0.7 $ (saw * sine))          -- Complex wave morphing
  # pan (slow 8 $ sine)                                        -- Slow stereo movement
  # room (range 0.1 0.4 $ slow 11 $ sine)                     -- Subtle reverb modulation

-- YOI WAVE - SMOOTH BASS VERSION with modulation
d1 $ s "supersquare*<8 12 16>" # n "<c2 [e2 g2] <f2 bf2> [c2 d2]>"
  # cutoff (range 200 2000 $ (slow 4.5 sine * slow 6.3 sine))               -- Smooth dual sine LFO
  # resonance (range 0.3 0.7 $ slow 3.2 $ sine)                             -- Gentle resonance sweep
  # shape (range 0.5 0.75 $ slow 8 $ sine)                                  -- Warm distortion
  # crush 5                                                                  -- Subtle bitcrush texture
  # legato "<1.2 1 0.8>"                                                     -- Smooth note lengths
  # voice (slow 5 $ range 0.25 0.6 $ sine)                                  -- Gentle wave morphing
  # pan (slow 12 $ sine)                                                     -- Slow stereo drift
  # room (range 0.2 0.4 $ slow 16 $ sine)                                   -- Subtle reverb movement
  # lpf (range 300 800 $ slow 7 $ sine)                                     -- Low-pass for bass focus
  # gain 1.15                                                                -- Boost for presence
  # octave 2

-- YOI WAVE - DEEP SUB BASS VERSION (lower frequencies)
d1 $ s "supersquare*<8 12 16>" # n "<c1 [e1 g1] <f1 bf1> [c1 d1]>"
  # cutoff (range 80 600 $ (slow 4.5 sine * slow 6.3 sine))                 -- Lower cutoff range for deep bass
  # resonance (range 0.4 0.75 $ slow 3.2 $ sine)                            -- Boosted resonance for presence
  # shape (range 0.6 0.8 $ slow 8 $ sine)                                   -- Warm saturation
  # crush 5                                                                  -- Subtle bitcrush texture
  # legato "<1.5 1.2 1>"                                                     -- Longer notes for sub weight
  # voice (slow 5 $ range 0.3 0.65 $ sine)                                  -- Wave morphing in low range
  # pan (slow 16 $ sine)                                                     -- Very slow stereo movement
  # room (range 0.15 0.3 $ slow 20 $ sine)                                  -- Subtle reverb
  # lpf (range 120 350 $ slow 9 $ sine)                                     -- Very low-pass for sub focus
  # gain 1.3                                                                 -- Extra gain for sub presence
  # octave 1                                                                 -- Sub bass octave (40-80Hz range)

-- YOI WAVE - DEEP SUB BASS with mi-UGens (rings resonator + ripples filter + mu distortion)
d1 $ s "supersquare*<8 12 16>" # n "<c1 [e1 g1] <f1 bf1> [c1 d1]>"
  # cutoff (range 80 600 $ (slow 4.5 sine * slow 6.3 sine))                 -- Lower cutoff range
  # resonance (range 0.4 0.75 $ slow 3.2 $ sine)                            -- Boosted resonance
  # shape (range 0.6 0.8 $ slow 8 $ sine)                                   -- Warm saturation
  # crush 5                                                                  -- Bitcrush texture
  # legato "<1.5 1.2 1>"                                                     -- Longer notes
  # voice (slow 5 $ range 0.3 0.65 $ sine)                                  -- Wave morphing
  # pan (slow 16 $ sine)                                                     -- Slow stereo movement
  # gain 1.1                                                                 -- Adjusted for mi-UGens processing
  # octave 1
  # rings 60 (slow 11 $ range 0.3 0.8 $ sine) 0.6 (slow 7 $ range 0.4 0.9 $ sine) 0.85  -- Resonator adds harmonic richness
  # ringsmodel 1                                                             -- Sympathetic string model
  # ringspoly 1                                                              -- Polyphonic mode
  # ripplescf (slow 6 $ range 0.2 0.6 $ sine)                               -- Analog filter sweep
  # ripplesreson (range 0.5 0.85 $ slow 5 $ sine)                           -- Filter resonance modulation
  # ripplesdrive (range 1 3 $ slow 9 $ sine)                                -- Analog drive for warmth
  # mu (range 3 6 $ slow 13 $ sine)                                         -- Low frequency distortion/saturation

-- YOI WAVE - CLOUDS (granular texture processor)
d1 $ s "supersquare*<8 12 16>" # n "<c2 [e2 g2] <f2 bf2> [c2 d2]>"
  # cutoff (range 200 1800 $ (slow 4.5 sine * slow 6.3 sine))               -- Smooth dual sine LFO
  # resonance (range 0.3 0.65 $ slow 3.2 $ sine)                            -- Gentle resonance
  # shape (range 0.5 0.7 $ slow 8 $ sine)                                   -- Moderate distortion
  # crush 5                                                                  -- Bitcrush texture
  # legato "<1.2 1 0.8>"                                                     -- Smooth note lengths
  # voice (slow 5 $ range 0.3 0.6 $ sine)                                   -- Wave morphing
  # pan (slow 12 $ sine)                                                     -- Stereo movement
  # gain 0.9                                                                 -- Adjusted for clouds processing
  # octave 2
  # clouds (slow 7 $ range 0.3 0.7 $ sine) (slow 9 $ range 0.4 0.8 $ sine) (slow 11 $ range 0.05 0.15 $ sine) 0.1  -- Granular magic
  # cloudsblend (slow 13 $ range 0.6 0.95 $ sine) (slow 5 $ range 0.2 0.4 $ sine) 0.33 (slow 17 $ range 0.6 0.9 $ sine)  -- Blend controls

-- YOI WAVE - BRAIDS (macro oscillator with multiple synthesis models)
d1 $ s "braids*<8 12 16>" # note "<c2 [e2 g2] <f2 bf2> [c2 d2]>"
  # legato "<1.2 1 0.8>"                                                     -- Smooth note lengths
  # model (slow 32 $ run 48)                                                 -- Slowly cycle through all 48 synthesis models
  # timbre (slow 5 $ range 0.3 0.8 $ sine)                                  -- Timbre modulation
  # color (slow 7 $ range 0.2 0.9 $ (sine * saw))                           -- Color/tone modulation
  # pan (slow 12 $ sine)                                                     -- Stereo movement
  # crush 5                                                                  -- Bitcrush for character
  # cutoff (range 300 2000 $ slow 6 $ sine)                                 -- Filter sweep
  # resonance (range 0.3 0.6 $ slow 4 $ sine)                               -- Filter resonance
  # gain 0.95                                                                -- Balanced level
  # room (range 0.2 0.4 $ slow 16 $ sine)                                   -- Subtle reverb

-- YOI WAVE - PLAITS (macro oscillator with 16 synthesis engines)
d1 $ s "plaits*<8 12 16>" # note "<c2 [e2 g2] <f2 bf2> [c2 d2]>"
  # legato "<1.2 1 0.8>"                                                     -- Smooth note lengths
  # engine (slow 16 $ segment 16 $ run 16)                                  -- Cycle through all 16 engines
  # timbre (slow 5 $ range 0.3 0.8 $ sine)                                  -- Timbre control
  # harm (slow 7 $ range 0.2 0.8 $ saw)                                     -- Harmonics modulation
  # morph (slow 9 $ range 0.3 0.85 $ (sine * saw))                          -- Morphing between modes
  # level (slow 6 $ range 0.6 0.95 $ sine)                                  -- Level modulation
  # pan (slow 12 $ sine)                                                     -- Stereo movement
  # crush 5                                                                  -- Bitcrush
  # cutoff (range 300 2200 $ slow 8 $ sine)                                 -- Filter sweep
  # gain 0.9                                                                 -- Balanced level
  # room (range 0.2 0.45 $ slow 14 $ sine)                                  -- Reverb wash

-- YOI WAVE - TIDES (tidal modulator as oscillator/LFO)
d1 $ s "tides*<8 12 16>" # note "<c2 [e2 g2] <f2 bf2> [c2 d2]>"
  # legato "<1.2 1 0.8>"                                                     -- Smooth note lengths
  # mode (slow 32 $ segment 4 "<0 1 2 3>")                                  -- Cycle through 4 modes
  # shift (slow 5 $ range 0.2 0.8 $ sine)                                   -- Frequency shift/modulation
  # tidesshape (slow 7 $ range 0.3 0.9 $ sine)                              -- Waveform shape
  # tidessmooth (range 0.3 0.9 $ slow 8 $ sine)                             -- Smoothness control
  # slope (slow 9 $ range 0.2 0.8 $ saw)                                    -- Slope modulation
  # pan (slow 12 $ sine)                                                     -- Stereo movement
  # crush 5                                                                  -- Bitcrush
  # cutoff (range 250 1800 $ slow 6 $ sine)                                 -- Filter sweep
  # resonance (range 0.3 0.65 $ slow 4 $ sine)                              -- Filter resonance
  # gain 1.0                                                                 -- Balanced level
  # room (range 0.25 0.4 $ slow 15 $ sine)                                  -- Subtle reverb

-- YOI WAVE - VERB (with miVerb global reverb effect)
d1 $ s "supersquare*<8 12 16>" # n "<c2 [e2 g2] <f2 bf2> [c2 d2]>"
  # cutoff (range 300 1800 $ (slow 4.5 sine * slow 6.3 sine))               -- Smooth dual sine LFO
  # resonance (range 0.3 0.65 $ slow 3.2 $ sine)                            -- Gentle resonance
  # shape (range 0.5 0.7 $ slow 8 $ sine)                                   -- Moderate distortion
  # crush 5                                                                  -- Bitcrush texture
  # legato "<1.2 1 0.8>"                                                     -- Smooth note lengths
  # voice (slow 5 $ range 0.3 0.6 $ sine)                                   -- Wave morphing
  # pan (slow 12 $ sine)                                                     -- Stereo movement
  # gain 0.85                                                                -- Lower for verb space
  # octave 2
  # verb (slow 11 $ range 0.7 0.95 $ sine) (slow 13 $ range 0.8 0.95 $ sine) (slow 7 $ range 0.05 0.2 $ sine) (slow 9 $ range 0.15 0.3 $ sine)  -- miVerb: time, damping, input gain, diffusion

-- YOI WAVE - EXTREME DISTORTION & CHAOS VERSION
d1 $ degradeBy 0.2 $ every 3 (rev) $ every 5 (fast "<2 1.5>")
  $ s "supersquare*<7 13 11 16 9>" # n "<c3 [e3 fs3] <g3 bf3> [c3 d3 f3]>"
  # cutoff (range 100 5000 $ (slow 2.7 sine * slow 4.3 square + slow 6.1 saw) / 2)  -- Chaotic triple LFO
  # resonance (range 0.2 0.95 $ slow 1.9 $ (sine * square))                         -- Aggressive resonance
  # shape (range 0.7 1.0 $ slow 5.3 $ (saw + square) / 2)                          -- Heavy distortion
  # distort (range 0.3 0.8 $ slow 3.1 $ sine)                                       -- Extra distortion layer
  # crush (choose [2, 3, 4, 5, 7, 9])                                               -- Random extreme bitcrush
  # coarse (choose [1, 2, 4, 8, 16, 32])                                            -- Harsh downsampling
  # legato "<0.3 1.5 0.7 2 0.5>"                                                    -- Erratic note lengths
  # voice (slow 3.7 $ range 0.1 0.9 $ (saw * sine + square) / 2)                   -- Extreme wave morphing
  # squiz "<0 2 4 8 16>"                                                             -- Pitch glitching
  # pan (fast 3 $ (sine * saw))                                                      -- Chaotic panning
  # room (range 0.05 0.5 $ slow 7.7 $ square)                                       -- Jumping reverb
  # hpf (range 20 400 $ slow 11 $ saw)                                              -- Filter out lows randomly
  # gain (range 0.9 1.1 $ fast 8 $ sine)                                            -- Volume fluctuation
  # speed "<1 0.99 1.01 0.98>"                                                      -- Detuning drift

-- PSYDUB EXAMPLE - Deep bass, delays, and dub effects
do
  -- Heavy sub bass with filter sweeps
  d1 $ slow 2 $ n "c1 [~ c1] f1 [~ g1]" # s "bass1:18"
    # lpf (range 80 600 $ slow 8 $ sine)
    # lpq 0.3
    # shape 0.6
    # legato 2
    # gain 1.2
    # room 0.3
    # sz 0.8
  -- Melodic delayed lead with psychedelic panning
  d2 $ slow 4 $ n "<c5 [d5 f5] [g5 a5] [bf5 c6]>" # s "superpwm"
    # voice (slow 6 $ range 0.3 0.8 $ sine)
    # cutoff (range 800 4000 $ slow 5 $ saw)
    # resonance 0.4
    # delay (range 0.6 0.9 $ slow 7 $ sine)      -- Modulating delay amount
    # delayt "<0.375 0.5 0.25 0.75>"              -- Polyrhythmic delay times
    # delayfb 0.6                                  -- Heavy feedback
    # pan (slow 3 $ sine)                          -- Slow pan
    # room 0.6
    # sz 0.9
    # gain 0.8
  -- Dub chords with echo
  d3 $ sometimesBy 0.7 (# crush 5) $ slow 8 $ n "<c4'min7 f4'min7 g4'dom7 bf4'maj7>" # s "supermandolin"
    # lpf 2000
    # delay 0.7
    # delayt 0.5
    # delayfb 0.5
    # room 0.7
    # sz 0.95
    # gain 0.7
    # pan (slow 5 $ saw)
  -- Kick with dub processing
  d4 $ s "bd(3,8,<0 2>)"
    # shape 0.5
    # lpf 120
    # delay "<0 0.8>"                             -- Delay on some kicks
    # delayt 0.375
    # delayfb 0.4
    # gain 1.1
  -- Psydub percussion with reverb wash
  d5 $ degradeBy 0.3 $ s "~ cp ~ [cp cp?]"
    # hpf (range 2000 8000 $ fast 2 $ sine)
    # delay 0.8
    # delayt "<0.25 0.5 0.125>"
    # delayfb 0.7
    # room 0.9
    # sz 0.99
    # pan (fast 4 $ sine)
    # gain 0.6


d1 $ s "frog(5,8)" # begin 0.1 # end 0.12 # speed 0.1


d1 silence
hush

